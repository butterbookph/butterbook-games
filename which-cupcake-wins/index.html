<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Compare Numbers Game</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 960px;
      height: 600px;
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      overflow: hidden;
    }

    #gameContainer {
      position: relative;
      width: 960px;
      height: 540px;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }

    #progressSection {
      width: 960px;
      margin: 10px auto 20px;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 0 10px;
      box-sizing: border-box;
    }

    #progressText {
      width: 60px;
      text-align: left;
      font-size: 16px;
      font-weight: 400;
      color: #333;
    }

    #progressWrapper {
      flex-grow: 1;
      height: 20px;
      background-color: #ddd;
      border-radius: 10px;
      overflow: hidden;
    }

    #progressBar {
      height: 100%;
      width: 0%;
      background-color: #FEB8E5;
      transition: width 0.4s ease;
    }

    #choicesContainer {
      position: absolute;
      top: 365px;
      left: 240px;
      display: flex;
      gap: 20px;
      z-index: 10;
    }

    .choice {
      width: 150px;
      height: 150px;
      cursor: grab;
    }

    #dropZone {
      position: absolute;
      bottom: 240px;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 200px;
      border: 3px dashed #888;
      border-radius: 20px;
      background-color: rgba(255, 255, 255, 0.6);
    }

    #dropZone img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    #submitBtn {
      position: absolute;
      bottom: 20px;
      right: 20px;
      padding: 10px 20px;
      font-size: 18px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    #feedback {
      position: absolute;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-weight: bold;
      background-color: white;
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      z-index: 20;
    }

    #doneScreen {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 40px;
      font-size: 36px;
      border-radius: 20px;
      text-align: center;
    }
  </style>
</head>
<body>

  <!-- PROGRESS BAR SECTION -->
  <div id="progressSection">
    <div id="progressText">0%</div>
    <div id="progressWrapper">
      <div id="progressBar"></div>
    </div>
  </div>

  <div id="gameContainer">
    <!-- Progress Bar -->
    <div id="progressBarContainer">
      <div id="progressBar"></div>
    </div>

    <!-- Game Elements -->
    <div id="choicesContainer">
      <img id="lessThan" src="less-than.png" class="choice" draggable="true" data-value="less-than.png" />
      <img id="equals" src="equals.png" class="choice" draggable="true" data-value="equals.png" />
      <img id="greaterThan" src="greater-than.png" class="choice" draggable="true" data-value="greater-than.png" />
    </div>

    <div id="dropZone"></div>
    <button id="submitBtn">Submit</button>
    <div id="feedback"></div>
    <div id="doneScreen">üéâ You're Done!</div>
  </div>

  <!-- SOUND EFFECTS -->
  <audio id="correctSound" src="correct.mp3"></audio>
  <audio id="wrongSound" src="wrong.mp3"></audio>

  <script>
    const correctAnswers = [
      "greater-than.png", "less-than.png", "equals.png", "greater-than.png", "less-than.png",
      "less-than.png", "greater-than.png", "equals.png", "greater-than.png", "greater-than.png",
      "less-than.png", "less-than.png", "equals.png", "greater-than.png", "equals.png",
      "less-than.png", "equals.png", "less-than.png", "less-than.png", "greater-than.png"
    ];

    let currentQuestion = 0;
    let draggedValue = null;

    const dropZone = document.getElementById("dropZone");
    const gameContainer = document.getElementById("gameContainer");
    const feedback = document.getElementById("feedback");
    const doneScreen = document.getElementById("doneScreen");
    const progressBar = document.getElementById("progressBar");

    function loadQuestion(index) {
      dropZone.innerHTML = "";
      draggedValue = null;
      feedback.textContent = "";
      gameContainer.style.backgroundImage = `url('bg${index + 1}.png')`;

      // Update progress bar
      const percent = ((index) / correctAnswers.length) * 100;
      progressBar.style.width = percent + "%";
    }

    document.querySelectorAll(".choice").forEach(choice => {
      choice.addEventListener("dragstart", e => {
        draggedValue = e.target.getAttribute("data-value");
      });
    });

    dropZone.addEventListener("dragover", e => {
      e.preventDefault();
    });

    dropZone.addEventListener("drop", e => {
      e.preventDefault();
      if (draggedValue) {
        dropZone.innerHTML = `<img src="${draggedValue}" />`;
      }
    });

    document.getElementById("submitBtn").addEventListener("click", () => {
      if (!draggedValue) {
        feedback.textContent = "Please drag a symbol!";
        feedback.style.color = "orange";
        return;
      }

      const correct = correctAnswers[currentQuestion];
      if (draggedValue === correct) {
        document.getElementById("correctSound").play();
        feedback.textContent = "‚úÖ Correct!";
        feedback.style.color = "green";
        currentQuestion++;

        // Update progress bar immediately
        const percent = (currentQuestion / correctAnswers.length) * 100;
        progressBar.style.width = percent + "%";

        if (currentQuestion < correctAnswers.length) {
          setTimeout(() => loadQuestion(currentQuestion), 1200);
        } else {
          feedback.style.display = "none";
          dropZone.style.display = "none";
          document.getElementById("choicesContainer").style.display = "none";
          document.getElementById("submitBtn").style.display = "none";
          doneScreen.style.display = "block";
        }
      } else {
        document.getElementById("wrongSound").play();
        feedback.textContent = "‚ùå Try again!";
        feedback.style.color = "red";
        dropZone.innerHTML = "";
        draggedValue = null;
      }
    });

    loadQuestion(currentQuestion);
  </script>
</body>
</html>
